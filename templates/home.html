{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
{% load static %}

<div class="page">
  <div id="dashboard-content">
  <h2 class="ticker-header">Overall Deductions - AS IS</h2>
  <!-- Ticker Section -->
  <div class="ticker-container">
    <div class="ticker-item">
      <h4>Deduction Reason</h4>
      <p>OSD</p>
    </div>
    <div class="ticker-item">
      <h4># of Customers</h4>
      <p>{{ unique_customer_count }}</p>
    </div>
    <div class="ticker-item">
      <h4>Total Deduction</h4>
      <!-- <p>${{ total_deduction|floatformat:2 }}M</p> -->
      <p>$55.81M</p>
    </div>
    <div class="ticker-item">
      <h4>Deduction Count</h4>
      <!-- <p>{{ deduction_count }}</p> -->
      <p>22142</p>
    </div>
    <div class="ticker-item">
      <h4>Total Invalid</h4>
      <!-- <p>${{ total_invalid|floatformat:2 }}M</p> -->
      <p>$13.4M</p>
    </div>
    
    <div class="ticker-item">
        <h4>Total Valid</h4>
        <!-- <p>${{ total_valid|floatformat:2 }}M</p> -->
        <p>$42.48M</p>
      </div>
      <div class="ticker-item">
        <h4>Invalid Count</h4>
        <!-- <p>{{ invalid_count }}</p> -->
        <p>1837</p>
      </div> 
      <div class="ticker-item">
        <h4>Valid Count</h4>
        <!-- <p>{{ valid_count }}</p> -->
        <p>20305</p>
      </div>
  </div>

   <!-- Chart Section -->
   <div class="chart-container">
    <!-- Chart 1: Donut Chart with Data -->
    <div class="chart-item">
      <canvas id="chart1"></canvas>
    </div>
    
    <!-- Chart 2: Placeholder -->
    <div class="chart-item">
      <canvas id="chart2"></canvas>
    </div>
  </div>

</br>
<h2 class="ticker-header">Prioritized Scope</h2>
  <div class="ticker-container">
    <div class="ticker-item">
        <h4>Deduction Reason</h4>
        <p>OSD</p>
      </div>
    <div class="ticker-item">
      <h4># of Customers</h4>
      <p>{{ unique_customer_workflow }}</p>
    </div>
    <div class="ticker-item">
      <h4>Total Deduction</h4>
      <p>$3.7M</p>
    </div>
    
    <div class="ticker-item">
      <h4>Total Invalid</h4>
      <p>$1.74M</p>
    </div>
    <div class="ticker-item">
      <h4>Total Valid</h4>
      <p>$0.04M</p>
    </div>
    <div class="ticker-item">
      <h4>Pending Validation</h4>
      <p>$1.93M</p>
    </div>
   
  </div>

  <div class="ticker-container">
    <div class="ticker-item">
        <h4>Deduction Count</h4>
        <p>{{ deduction_count_validation }}</p>
      </div>
      <div class="ticker-item">
        <h4>Invalid Count</h4>
        <p>{{ invalid_count_validation }}</p>
      </div>
      
        <div class="ticker-item">
          <h4>Valid Count</h4>
          <p>{{ valid_count_validation }}</p>
        </div>
    <div class="ticker-item">
      <h4>Pending Validation Count</h4>
      <p>{{ pending_count_validation }}</p>
    </div>
    <div class="ticker-item">
        <h4># of Unique SKUs</h4>
        <p>{{ unique_sku }}</p>
      </div>
   
    <div class="ticker-item">
        <h4># of Total SKUs</h4>
        <p>{{ deduction_count_sku }}</p>
      </div>
      
    
  </div>

<div class="ticker-container">
   
      <div class="ticker-item">
        <h4>Missing Invoice or Backup</h4>
        <p>${{ pending_missing_invoice|floatformat:2  }}M</p>
      </div>
      
        <div class="ticker-item">
          <h4>Missing Customer Sign on POD</h4>
          <p>${{ missing_customer_sign|floatformat:2  }}M</p>
        </div>
    <div class="ticker-item">
      <h4>Missing Carrier Sign on POD</h4>
      <p>${{ missing_carrier_sign|floatformat:2  }}M</p>
    </div>
    <div class="ticker-item">
        <h4>POD is Subject to Count</h4>
        <p>${{ pending_subject_to_count|floatformat:2  }}M</p>
      </div>
    
  </div>

  
 
</br>
<!-- Chart Section -->
<div class="chart-container">
  <!-- Chart 1: Donut Chart with Data -->
  <div class="chart-item">
    <canvas id="chart3"></canvas>
  </div>
  
   <!-- Chart 2: Placeholder -->
   <div class="chart-item">
    <canvas id="chart4"></canvas>
  </div>
</div>


<!--new section starts here-->
<!-- <h2 class="ticker-header">Carrier level</h2> -->
<!-- Ticker Section -->


    


<!-- Section 5 ends here -->

</br>

<div class="chart-container">
<div class="chart-item">
    <!-- Carrier Amount Chart -->
    <canvas id="carrierAmountChart"></canvas>
</div>

<div class="chart-item">
    <!-- Carrier Count Chart -->
    <canvas id="carrierCountChart"></canvas>
</div>
</div>
<!-- Section 3 ends here -->


</br>
<!--section 4 starts here-->
<!-- <h2 class="ticker-header">SKU level</h2> -->
<!-- Ticker Section -->


<div class="chart-container">
    <div class="chart-item">
        <!-- Carrier Amount Chart -->
        <canvas id="skuAmountChart"></canvas>
    </div>
    
    <div class="chart-item">
        <!-- Carrier Count Chart -->
        <canvas id="skuCountChart"></canvas>
    </div>
    </div>
<!-- Section 4 ends here -->

</br>
<!--section 5 starts here-->
<!-- <h2 class="ticker-header">Invalid Reasons</h2> -->
<!-- Ticker Section -->
<div class="chart-container">
    
    <div class="chart-item">
        <!-- Carrier Amount Chart -->
        <canvas id="doughnutInvalidAmountChart"></canvas>
    </div>
    
    <div class="chart-item">
        <!-- Carrier Count Chart -->
        <canvas id="doughnutInvalidCountChart"></canvas>
    </div>
    </div>
</br>

<!--section 6 starts here-->
<h2 class="ticker-header">RCA (Input Data not Available) </h2>
<!-- Ticker Section -->
</br>
<table class="table table-bordered">
    <thead>
      <tr>
        <th scope="col">RCA</th>
        <th scope="col">Data Required</th>
        <th scope="col">Available</th>
        <th scope="col">Not Available</th>
      </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Product Substitution</th>
            <td>Order Substitution Report</td>
            <td>0</td>
            <td></td>
          </tr>
        <tr>
            <th scope="row">Combined shipment</th>
            <td>Order & Trans report</td>
            <td>0</td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Order Split</th>
            <td>Order & Trans report</td>
            <td>0</td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Load Sequencing</th>
            <td>Order & Trans report</td>
            <td>0</td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Unit of Measurement</th>
            <td>Product Catalogue and Customer Catalogue</td>
            <td>0</td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Deducted at Higher Price</th>
            <td>Invoice Data</td>
            <td>65</td>
            <td>0</td>
        </tr>
    </tbody>
</table>
</br>

<div class="chart-container">
    <div class="chart-item">
        <!-- Carrier Amount Chart -->
        <canvas id="productSubstitutionChart"></canvas>
    </div>
    
    <div class="chart-item">
        <!-- Carrier Count Chart -->
        <canvas id="combinedShipmentChart"></canvas>
    </div></div>
</br>
    <div class="chart-container">
    <div class="chart-item">
        <!-- Carrier Amount Chart -->
        <canvas id="orderSplitChart"></canvas>
    </div>
    
    <div class="chart-item">
        <!-- Carrier Count Chart -->
        <canvas id="loadSequencingChart"></canvas>
    </div></div>
</br>
    <div class="chart-container">
    <div class="chart-item">
        <!-- Carrier Count Chart -->
        <canvas id="unitOfMeasurementChart"></canvas>
    </div>
    <div class="chart-item">
        <!-- Carrier Amount Chart -->
        <canvas id="deductedAtHigherPriceChart"></canvas>
    </div>
  
    </div>
    


<!-- Section 6 ends here -->

</div> <!-- dashboard-content Div -->
</div>  <!-- Page Div -->


<script src="https://cdn.jsdelivr.net/npm/chart.js@latest"></script>
<script>
    // Retrieve chart data from Django context
    const chartData1 = {{ datapoints1|safe }};
    const chartData2 = {{ datapoints2|safe }};
    const chartData3 = {{ datapoints3|safe }};
    const chartData4 = {{ datapoints4|safe }};
    const carrierAmountChart = {{ datapoints_carrier_amount|safe }};
    const carrierCountChart = {{ datapoints_carrier_count|safe }};
    const skuAmountChart = {{ datapoints_carrier_amount|safe }};
    const skuCountChart = {{ datapoints_carrier_count|safe }};
 
// Create the first chart (Bar Chart)
const ctx1 = document.getElementById('chart1').getContext('2d');
const chart1 = new Chart(ctx1, {
    type: 'bar', // Change chart type to bar
    data: {
        labels: chartData1.labels,
        datasets: [{
            label: 'Top Customers by Deduction$',
            data: chartData1.data,
            backgroundColor: [
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                position: 'top',
            },
            tooltip: {
                callbacks: {
                    label: function(tooltipItem) {
                        return tooltipItem.label + ': $' + tooltipItem.raw.toFixed(2) + 'M';
                    }
                }
            }
        },
        scales: {
            x: {
                stacked: true,
                grid: {
                    display: false // Remove vertical gridlines
                },
                ticks: {
                    display: true // Keep x-axis labels visible
                }
            },
            y: {
                stacked: true,
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Deduction Amount (M)'
                },
                grid: {
                  display: false // Remove gridlines from y-axis
                }
            }
        }
    }
});

// Create the second chart (Bar Chart)
const ctx2 = document.getElementById('chart2').getContext('2d');
const chart2 = new Chart(ctx2, {
    type: 'bar', // Bar chart type
    data: {
        labels: chartData2.labels,
        datasets: [{
            label: 'Top Customers by Count',
            data: chartData2.data,
            backgroundColor: [
            'rgba(75, 192, 192, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(255, 159, 64, 0.2)',
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(255, 159, 64, 0.2)',
            'rgba(255, 99, 132, 0.2)'
        ],
        borderColor: [
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)',
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)',
            'rgba(255, 99, 132, 1)'
        ],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            x: {
                ticks: {
                    autoSkip: false // Ensure all labels are displayed
                },
                grid: {
                display: false // Remove vertical gridlines
            },
            ticks: {
                display: true // Keep x-axis labels visible
            }
            },
            y: {
                beginAtZero: true,
                grid: {
              display: false // Remove gridlines from y-axis
            }
            }
        }
    }
});

const ctx3 = document.getElementById('chart3').getContext('2d');
const chart3 = new Chart(ctx3, {
    type: 'doughnut', // Doughnut chart type
    data: {
        labels: chartData3.labels, // This is where the labels for the slices will be displayed
        datasets: [{
            label: 'Priortized Customers by Deduction $', // This label appears in tooltips, not as the chart title
            data: chartData3.data, // Data for the chart
            backgroundColor: [
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                position: 'right', // Move the legend to the right
                labels: {
                    boxWidth: 20, // Adjust legend box size
                    font: {
                        size: 12 // Adjust legend font size
                    }
                }
            },
            title: {
                display: true, // Enable the chart title
                text: 'Priortized Customers by Deduction $', // Title text
                font: {
                    size: 12, // Title font size
                    weight: 'normal'
                }
            },
          
        }
    }
});

const ctx4 = document.getElementById('chart4').getContext('2d');
const chart4 = new Chart(ctx4, {
    type: 'doughnut', // Doughnut chart type
    data: {
        labels: chartData4.labels, // This is where the labels for the slices will be displayed
        datasets: [{
            label: 'Priortized Customers by Count', // This label appears in tooltips, not as the chart title
            data: chartData3.data, // Data for the chart
            backgroundColor: [
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                position: 'right', // Move the legend to the right
                labels: {
                    boxWidth: 20, // Adjust legend box size
                    font: {
                        size: 12 // Adjust legend font size
                    }
                }
            },
            title: {
                display: true, // Enable the chart title
                text: 'Priortized Customers by Count', // Title text
                font: {
                    size: 12, // Title font size
                    weight: 'normal'
                }
            },
          
        }
    }
});

// Carrier Amount Chart (Chart 5)
const carrierAmountCtx = document.getElementById('carrierAmountChart').getContext('2d');
    new Chart(carrierAmountCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_carrier_amount.labels|safe }},
            datasets: [
                {
                    label: 'Valid Amount ($)',
                    data: {{ datapoints_carrier_amount.valid_data|safe }},
                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Invalid Amount ($)',
                    data: {{ datapoints_carrier_amount.invalid_data|safe }},
                    backgroundColor: 'rgba(255, 99, 132, 0.6)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'right', // Move the legend to the right
                    labels: {
                        boxWidth: 20, // Adjust legend box size
                        font: {
                            size: 12 // Adjust legend font size
                        }
                    }
                },
                title: {
                    display: true, // Enable the chart title
                    text: 'Top Carriers by $', // Title text
                    font: {
                        size: 12, // Title font size
                        weight: 'normal'
                    }
                },
            
            }
        }
    });

    // Carrier Count Chart (Chart 6)
    const carrierCountCtx = document.getElementById('carrierCountChart').getContext('2d');
    new Chart(carrierCountCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_carrier_count.labels|safe }},
            datasets: [
                {
                    label: 'Valid Count',
                    data: {{ datapoints_carrier_count.valid_data|safe }},
                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Invalid Count',
                    data: {{ datapoints_carrier_count.invalid_data|safe }},
                    backgroundColor: 'rgba(255, 99, 132, 0.6)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }
            ]
        }
    });

    // SKU Amount Chart (Chart 7)
    const skuAmountCtx = document.getElementById('skuAmountChart').getContext('2d');
        new Chart(skuAmountCtx, {
            type: 'bar',
            data: {
                labels: {{ datapoints_sku_amount.labels|safe }},
                datasets: [
                    {
                        label: 'Valid Amount ($)',
                        data: {{ datapoints_sku_amount.valid_data|safe }},
                        backgroundColor: 'rgba(75, 192, 192, 0.6)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Invalid Amount ($)',
                        data: {{ datapoints_sku_amount.invalid_data|safe }},
                        backgroundColor: 'rgba(255, 99, 132, 0.6)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'right', // Move the legend to the right
                    labels: {
                        boxWidth: 20, // Adjust legend box size
                        font: {
                            size: 12 // Adjust legend font size
                        }
                    }
                },
                title: {
                    display: true, // Enable the chart title
                    text: 'Top SKUs by $', // Title text
                    font: {
                        size: 12, // Title font size
                        weight: 'normal'
                    }
                },
            
            }
        }
        });

    // SKU Amount Chart (Chart 7)
    const skuCountCtx = document.getElementById('skuCountChart').getContext('2d');
            new Chart(skuCountCtx, {
                type: 'bar',
                data: {
                    labels: {{ datapoints_sku_count.labels|safe }},
                    datasets: [
                        {
                            label: 'Valid Count',
                            data: {{ datapoints_sku_count.valid_data|safe }},
                            backgroundColor: 'rgba(75, 192, 192, 0.6)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Invalid Count',
                            data: {{ datapoints_sku_count.invalid_data|safe }},
                            backgroundColor: 'rgba(255, 99, 132, 0.6)',
                            borderColor: 'rgba(255, 99, 132, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right', // Move the legend to the right
                        labels: {
                            boxWidth: 20, // Adjust legend box size
                            font: {
                                size: 12 // Adjust legend font size
                            }
                        }
                    },
                    title: {
                        display: true, // Enable the chart title
                        text: 'Top SKUs by Count', // Title text
                        font: {
                            size: 12, // Title font size
                            weight: 'normal'
                        }
                    },
                
                }
            }
            });


    var doughnutInvalidAmountChartctx = document.getElementById('doughnutInvalidAmountChart').getContext('2d');
    var doughnutInvalidAmountChart = new Chart(doughnutInvalidAmountChartctx, {
        type: 'doughnut',
        data: {
            labels: {{ datapoints_invalid_reason_amount.labels|safe }},
            datasets: [{
                label: 'Invalid Amount by Reason($)',
                data: {{ datapoints_invalid_reason_amount.data|safe }},
                backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'],
                hoverOffset: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'right',
                    labels: {
                    boxWidth: 20, // Adjust legend box size
                    font: {
                        size: 12 // Adjust legend font size
                    }
                }
                },
                title: {
                    display: true,
                    text: 'Invalid Deductions $ by Reason',
                    font: {
                            size: 12, // Title font size
                            weight: 'normal'
                        }
                    }
            }
        }
    });

    var doughnutInvalidCountChartctx = document.getElementById('doughnutInvalidCountChart').getContext('2d');
    var doughnutInvalidCountChart = new Chart(doughnutInvalidCountChartctx, {
        type: 'doughnut',
        data: {
            labels: {{ datapoints_invalid_reason_count.labels|safe }},
            datasets: [{
                label: 'Invalid Count by Reason',
                data: {{ datapoints_invalid_reason_count.data|safe }},
                backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'],
                hoverOffset: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'right',
                },
                title: {
                    display: true,
                    text: 'Invalid Deductions Count by Reason',
                    font: {
                            size: 12, // Title font size
                            weight: 'normal'
                        }
                    }
            }
        }
    });


// Placeholder chart for Product Substitution
const productSubstitutionCtx = document.getElementById('productSubstitutionChart').getContext('2d');
    new Chart(productSubstitutionCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_product_substitution.labels|safe }},
            datasets: [{
                label: 'Product Substitution',
                data: {{ datapoints_product_substitution.data|safe }},
                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        }
    });

    // Placeholder chart for Combined Shipment
    const combinedShipmentCtx = document.getElementById('combinedShipmentChart').getContext('2d');
    new Chart(combinedShipmentCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_combined_shipment.labels|safe }},
            datasets: [{
                label: 'Combined Shipment',
                data: {{ datapoints_combined_shipment.data|safe }},
                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        }
    });

    // Placeholder chart for Order Split
    const orderSplitCtx = document.getElementById('orderSplitChart').getContext('2d');
    new Chart(orderSplitCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_order_split.labels|safe }},
            datasets: [{
                label: 'Order Split',
                data: {{ datapoints_order_split.data|safe }},
                backgroundColor: 'rgba(255, 206, 86, 0.6)',
                borderColor: 'rgba(255, 206, 86, 1)',
                borderWidth: 1
            }]
        }
    });

    // Placeholder chart for Load Sequencing
    const loadSequencingCtx = document.getElementById('loadSequencingChart').getContext('2d');
    new Chart(loadSequencingCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_load_sequencing.labels|safe }},
            datasets: [{
                label: 'Load Sequencing',
                data: {{ datapoints_load_sequencing.data|safe }},
                backgroundColor: 'rgba(153, 102, 255, 0.6)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1
            }]
        }
    });

    // Placeholder chart for Unit of Measurement
    const unitOfMeasurementCtx = document.getElementById('unitOfMeasurementChart').getContext('2d');
    new Chart(unitOfMeasurementCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_unit_of_measurement.labels|safe }},
            datasets: [{
                label: 'Unit of Measurement',
                data: {{ datapoints_unit_of_measurement.data|safe }},
                backgroundColor: 'rgba(255, 159, 64, 0.6)',
                borderColor: 'rgba(255, 159, 64, 1)',
                borderWidth: 1
            }]
        }
    });

    // Placeholder chart for Deducted at Higher Price
    const deductedAtHigherPriceCtx = document.getElementById('deductedAtHigherPriceChart').getContext('2d');
    new Chart(deductedAtHigherPriceCtx, {
        type: 'bar',
        data: {
            labels: {{ datapoints_deducted_at_higher_price.labels|safe }},
            datasets: [{
                label: 'Deducted at Higher Price',
                data: {{ datapoints_deducted_at_higher_price.data|safe }},
                backgroundColor: 'rgba(255, 99, 132, 0.6)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
            }]
        }
    });

</script>



{% endblock %}
